<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base64 ì¸ì½”ë” & ë””ì½”ë” - ë¬´ë£Œ ì˜¨ë¼ì¸ ë³€í™˜</title>
    
    <link rel="stylesheet" href="css/style.css">
    <script src="js/common.js"></script>

    <style>
        .converter-wrapper { display: flex; flex-direction: column; gap: 20px; }
        .box-group { display: flex; gap: 20px; }
        .box { flex: 1; display: flex; flex-direction: column; }
        label { font-weight: bold; margin-bottom: 8px; color: #555; }
        textarea {
            height: 200px; padding: 15px; resize: vertical;
            border: 1px solid #ccc; border-radius: 5px; font-family: monospace;
        }
        .actions { display: flex; justify-content: center; gap: 10px; margin: 10px 0; }
        
        /* ëª¨ë°”ì¼ ëŒ€ì‘ */
        @media (max-width: 768px) {
            .box-group { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="tool-box">
            <h2 style="text-align: center;">ğŸ”„ Base64 ë³€í™˜ê¸°</h2>
            <p style="text-align: center; color: #666; margin-bottom: 30px;">
                í…ìŠ¤íŠ¸ë¥¼ Base64ë¡œ ì¸ì½”ë”©í•˜ê±°ë‚˜, Base64 ë¬¸ìì—´ì„ í…ìŠ¤íŠ¸ë¡œ ë””ì½”ë”©í•˜ì„¸ìš”.<br>
                (UTF-8 í•œê¸€ë„ ì™„ë²½í•˜ê²Œ ì§€ì›í•©ë‹ˆë‹¤.)
            </p>

            <div class="converter-wrapper">
                <div class="box-group">
                    <div class="box">
                        <label for="TextInput">ì¼ë°˜ í…ìŠ¤íŠ¸ (Plain Text)</label>
                        <textarea id="TextInput" placeholder="ì•ˆë…•í•˜ì„¸ìš” Hello World"></textarea>
                    </div>
                    
                    <div style="display:flex; align-items:center; justify-content:center; font-size:24px; color:#aaa;">
                        â‡„
                    </div>

                    <div class="box">
                        <label for="Base64Input">Base64 ë¬¸ìì—´</label>
                        <textarea id="Base64Input" placeholder="7JWI64WV7ZWY7IS4dW8gSGVsbG8gV29ybGQ="></textarea>
                    </div>
                </div>

                <div class="actions">
                    <button onclick="encode()" class="btn-primary">â¬‡ï¸ ì¸ì½”ë”© (Encode)</button>
                    <button onclick="decode()" class="btn-success">â¬†ï¸ ë””ì½”ë”© (Decode)</button>
                    <button onclick="clearAll()" style="background-color:#e74c3c;">ğŸ—‘ï¸ ì§€ìš°ê¸°</button>
                </div>
            </div>
        </div>

        <div style="margin-top: 50px; line-height: 1.6; color: #444;">
            <h3>Base64ë€?</h3>
            <p>ë°”ì´ë„ˆë¦¬ ë°ì´í„°(ì´ë¯¸ì§€, íŒŒì¼ ë“±)ë¥¼ ASCII ë¬¸ìì—´ë¡œ ë°”ê¾¸ëŠ” ì¸ì½”ë”© ë°©ì‹ì…ë‹ˆë‹¤. ì£¼ë¡œ ì´ë©”ì¼ ì²¨ë¶€íŒŒì¼ ì „ì†¡ì´ë‚˜, ì›¹ API ì¸ì¦(Basic Auth) ë“±ì— ì‚¬ìš©ë©ë‹ˆë‹¤.</p>
        </div>
    </div>

    <script>
        const textInput = document.getElementById('TextInput');
        const base64Input = document.getElementById('Base64Input');

        // UTF-8 ë¬¸ìì—´ì„ Base64ë¡œ ì¸ì½”ë”© (í•œê¸€ ì²˜ë¦¬ìš©)
        function utf8_to_b64(str) {
            return window.btoa(unescape(encodeURIComponent(str)));
        }

        // Base64ë¥¼ UTF-8 ë¬¸ìì—´ë¡œ ë””ì½”ë”© (í•œê¸€ ì²˜ë¦¬ìš©)
        function b64_to_utf8(str) {
            return decodeURIComponent(escape(window.atob(str)));
        }

        function encode() {
            const val = textInput.value;
            if(!val) return alert("í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            try {
                base64Input.value = utf8_to_b64(val);
            } catch (e) {
                alert("ì¸ì½”ë”© ì‹¤íŒ¨: " + e.message);
            }
        }

        function decode() {
            const val = base64Input.value.trim();
            if(!val) return alert("Base64 ë¬¸ìì—´ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            try {
                textInput.value = b64_to_utf8(val);
            } catch (e) {
                alert("ìœ íš¨í•˜ì§€ ì•Šì€ Base64 ë¬¸ìì—´ì…ë‹ˆë‹¤.");
            }
        }

        function clearAll() {
            textInput.value = "";
            base64Input.value = "";
            textInput.focus();
        }
    </script>
</body>
</html>