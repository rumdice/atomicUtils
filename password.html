<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°•ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ ìƒì„±ê¸° - ì•ˆì „í•œ ë³´ì•ˆ ì•”í˜¸</title>
    
    <link rel="stylesheet" href="css/style.css">
    <script src="js/common.js"></script>

    <style>
        /* ê²°ê³¼ í‘œì‹œ ì˜ì—­ */
        .result-container {
            position: relative;
            margin-bottom: 30px;
        }
        .password-display {
            width: 100%;
            padding: 20px;
            font-size: 24px;
            font-family: 'Consolas', 'Monaco', monospace; /* ê¸€ì êµ¬ë¶„ìš© í°íŠ¸ */
            text-align: center;
            border: 2px solid #3498db;
            border-radius: 10px;
            background-color: #f8fbff;
            color: #2c3e50;
            letter-spacing: 2px;
            box-sizing: border-box;
            word-break: break-all;
        }
        
        /* ì˜µì…˜ ì„¤ì • ì˜ì—­ */
        .settings-box {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #eee;
        }

        .range-group {
            margin-bottom: 25px;
            text-align: center;
        }
        
        input[type=range] {
            width: 100%;
            max-width: 400px;
            cursor: pointer;
        }

        .length-value {
            font-size: 20px;
            font-weight: bold;
            color: #3498db;
            display: inline-block;
            width: 40px;
        }

        .checkbox-group {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-size: 16px;
            user-select: none;
        }
        .checkbox-label input {
            width: 20px;
            height: 20px;
            margin-right: 8px;
            cursor: pointer;
        }

        /* í° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .btn-generate {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            font-weight: bold;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .btn-generate:hover { background-color: #2980b9; }

        .btn-copy {
            margin-top: 10px;
            width: 100%;
            padding: 12px;
            background-color: #27ae60;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
        }
        .btn-copy:hover { background-color: #219150; }

        /* ë³´ì•ˆ ë°°ì§€ */
        .security-badge {
            display: inline-block;
            background-color: #e8f5e9;
            color: #2e7d32;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 15px;
            border: 1px solid #c8e6c9;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="tool-box">
            <div style="text-align: center;">
                <h2 style="margin-bottom: 10px;">ğŸ” ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ ìƒì„±ê¸°</h2>
                <div class="security-badge">ğŸ›¡ï¸ 100% í´ë¼ì´ì–¸íŠ¸ ìƒì„± (ì„œë²„ ì „ì†¡ X)</div>
            </div>

            <div class="result-container">
                <input type="text" id="result" class="password-display" readonly value="Click Generate">
                <button onclick="copyPassword()" class="btn-copy">ğŸ“‹ ë¹„ë°€ë²ˆí˜¸ ë³µì‚¬</button>
            </div>

            <div class="settings-box">
                <div class="range-group">
                    <label style="font-weight: bold; display: block; margin-bottom: 10px;">
                        ë¹„ë°€ë²ˆí˜¸ ê¸¸ì´: <span id="lengthVal" class="length-value">16</span>ì
                    </label>
                    <input type="range" id="lengthRange" min="4" max="50" value="16" oninput="syncLength()">
                </div>

                <div class="checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="chkUpper" checked> ëŒ€ë¬¸ì (A-Z)
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="chkLower" checked> ì†Œë¬¸ì (a-z)
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="chkNumber" checked> ìˆ«ì (0-9)
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="chkSymbol" checked> íŠ¹ìˆ˜ë¬¸ì (!@#)
                    </label>
                </div>

                <button onclick="generate()" class="btn-generate">ğŸ”„ ìƒˆ ë¹„ë°€ë²ˆí˜¸ ìƒì„±</button>
            </div>
        </div>

        <div style="margin-top: 50px; line-height: 1.6; color: #444;">
            <h3>ì™œ ì´ ë¹„ë°€ë²ˆí˜¸ ìƒì„±ê¸°ê°€ ì•ˆì „í•œê°€ìš”?</h3>
            <p>
                ì´ ë„êµ¬ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ <code>Crypto API</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚œìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. 
                ë‹¨ìˆœí•œ ëœë¤ í•¨ìˆ˜(Math.random)ë³´ë‹¤ í›¨ì”¬ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•˜ê³  ê°•ë ¥í•©ë‹ˆë‹¤. 
                ë˜í•œ, ëª¨ë“  ê³¼ì •ì´ ë¸Œë¼ìš°ì € ë‚´ë¶€ì—ì„œë§Œ ì´ë£¨ì–´ì§€ë©°, ìƒì„±ëœ ë¹„ë°€ë²ˆí˜¸ëŠ” ì–´ë””ì—ë„ ì €ì¥ë˜ê±°ë‚˜ ì „ì†¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
            </p>
        </div>
    </div>

    <script>
        // DOM ìš”ì†Œ
        const elResult = document.getElementById('result');
        const elRange = document.getElementById('lengthRange');
        const elLengthVal = document.getElementById('lengthVal');
        
        const elUpper = document.getElementById('chkUpper');
        const elLower = document.getElementById('chkLower');
        const elNumber = document.getElementById('chkNumber');
        const elSymbol = document.getElementById('chkSymbol');

        // ë¬¸ìì…‹ ì •ì˜
        const CHARS = {
            upper: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
            lower: 'abcdefghijklmnopqrstuvwxyz',
            number: '0123456789',
            symbol: '!@#$%^&*()_+~`|}{[]:;?><,./-='
        };

        // ê¸¸ì´ ìŠ¬ë¼ì´ë” ë™ê¸°í™”
        function syncLength() {
            elLengthVal.innerText = elRange.value;
            generate(); // ìŠ¬ë¼ì´ë” ì›€ì§ì¼ ë•Œë§ˆë‹¤ ìë™ ìƒì„±
        }

        // ë¹„ë°€ë²ˆí˜¸ ìƒì„± ë¡œì§
        function generate() {
            const length = parseInt(elRange.value);
            let charset = "";
            let password = "";

            if(elUpper.checked) charset += CHARS.upper;
            if(elLower.checked) charset += CHARS.lower;
            if(elNumber.checked) charset += CHARS.number;
            if(elSymbol.checked) charset += CHARS.symbol;

            // ì²´í¬ë°•ìŠ¤ê°€ í•˜ë‚˜ë„ ì„ íƒ ì•ˆ ëœ ê²½ìš°
            if(charset === "") {
                elResult.value = "ì˜µì…˜ì„ í•˜ë‚˜ ì´ìƒ ì„ íƒí•˜ì„¸ìš”";
                return;
            }

            // ì•”í˜¸í•™ì ìœ¼ë¡œ ì•ˆì „í•œ ë‚œìˆ˜ ìƒì„± (Crypto API ì‚¬ìš©)
            const randomValues = new Uint32Array(length);
            window.crypto.getRandomValues(randomValues);

            for (let i = 0; i < length; i++) {
                // charset ê¸¸ì´ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ ê°’ì„ ì¸ë±ìŠ¤ë¡œ ì‚¬ìš©
                const index = randomValues[i] % charset.length;
                password += charset[index];
            }

            elResult.value = password;
        }

        // ë³µì‚¬ ê¸°ëŠ¥
        function copyPassword() {
            const text = elResult.value;
            if(!text || text === "ì˜µì…˜ì„ í•˜ë‚˜ ì´ìƒ ì„ íƒí•˜ì„¸ìš”") return;

            elResult.select();
            document.execCommand('copy');
            alert('ë¹„ë°€ë²ˆí˜¸ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // ì´ˆê¸° ì‹¤í–‰
        generate();
    </script>
</body>
</html>